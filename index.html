<!DOCTYPE html>
<html>
<head>
  <title>Megasoft studio</title>

    <link rel="icon" href="./error.png">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <meta name="description" content="Windows 15 update"/>

    <meta name="author" content="-kamix-"/>

    <meta name="keywords" content="use a windows 15 bêta !"/>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      overflow: hidden;
      background-color: #0078d7;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
    }

    #pc-container {
      width: 100%;
      height: 100vh;
      background-image: url(assets/windows11.jpg);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      border: 1px solid #888;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    #header {
      height: 30px;
      line-height: 30px;
      padding: 0 10px;
      background-color: #0078d7;
      color: #fff;
      font-size: 14px;
    }

    #bureau {
      flex-grow: 1;
      padding: 10px;
      position: relative;
    }

    #taskbar {
      height: 40px;
      background-color: #0078d7;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 10px;
    }

    #taskbar .heure {
      color: #fff;
      font-size: 14px;
      margin-left: auto;
    }

    #taskbar .date {
      color: #fff;
      font-size: 14px;
      margin-left: auto;
      background-color: #0065b8;
      width: 170px;
      height: 20px;
      border-radius: 5px;
    }

    .icone {
      width: 80px;
      height: 80px;
      margin: 10px;
      background-color: #f0f0f0;
      border-radius: 5px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      position: absolute;
    }

    .icone img {
      width: 50px;
      height: 50px;
    }

    .icone span {
      margin-top: 5px;
      font-size: 12px;
    }

    .icone:nth-child(1) {
      top: 10px;
      left: 10px;
    }

    .icone:nth-child(2) {
      top: 10px;
      right: 10px;
    }

    .icone:nth-child(3) {
     position: absolute;
     bottom: 10px;
     left: 10px;
    }

    /* Styles for the video icon */
    .icone-video {
      width: 80px;
      height: 80px;
      margin: 10px;
      background-color: #f0f0f0;
      border-radius: 5px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      position: absolute;
      top: 100px;
      left: 10px;
    }

    .icone-video img {
      width: 50px;
      height: 50px;
    }

    .icone-video span {
      margin-top: 5px;
      font-size: 12px;
    }

    /* Styles for the video */
    .video-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none;
      z-index: 999;
    }

    .video-container .video-frame {
      width: 300%;
      height: 300%;
    }

    /* Styles for the close button */
    .close-button {
      position: absolute;
      top: 5px;
      right: 5px;
      width: 20px;
      height: 20px;
      background-color: #ff0000;
      border-radius: 50%;
      display: none;
      z-index: 1000;
      cursor: pointer;
    }

    .close-button:before,
    .close-button:after {
      content: '';
      position: absolute;
      top: 8px;
      left: 3px;
      width: 14px;
      height: 2px;
      background-color: #fff;
    }

    .close-button:before {
      transform: rotate(45deg);
    }

    .close-button:after {
      transform: rotate(-45deg);
    }

    /* Styles for the music icon */
    .icone-music {
      width: 80px;
      height: 80px;
      margin: 10px;
      background-color: #f0f0f0;
      border-radius: 5px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      position: absolute;
      top: 100px;
      right: 10px;
    }

    .icone-music img {
      width: 50px;
      height: 50px;
    }

    .icone-music span {
      margin-top: 5px;
      font-size: 12px;
    }

    /* Styles for the music */
    .music-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none;
      z-index: 999;
    }

    .music-container audio {
      width: 100%;
    }

    /* Styles for the pause button */
    .pause-button {
      position: absolute;
      top: 5px;
      right: 5px;
      width: 20px;
      height: 20px;
      background-color: #ff0000;
      border-radius: 50%;
      display: none;
      z-index: 1000;
      cursor: pointer;
    }

    .pause-button:before,
    .pause-button:after {
      content: '';
      position: absolute;
      top: 7px;
      left: 5px;
      width: 3px;
      height: 6px;
      background-color: #fff;
    }

    .pause-button:before {
      transform: translateX(-1px);
    }

    .pause-button:after {
      transform: translateX(4px);
    }

    /* Styles for the image */
    .image-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 999;
      display: none;
    }

    .image-container img {
      max-width: 80%;
      max-height: 80%;
    }
  </style>
</head>
<body>
  <div id="pc-container">
    <div id="header">Windows 15 bêta</div>
    <div id="bureau">
      <div class="icone" onclick="ouvrirPage('https://kamixlevrai.github.io/TOZ-bot/')">
        <img src="./assets/icon.ico" alt="Icône">
        <span>toz bot</span>
      </div>

      <div class="icone" onclick="showImage(); playSound('assets/error.mp3')">
        <img src="./assets/internet.png" alt="Icône">
        <span>internet</span>
      </div>  

      <div class="icone" onclick="ouvrirPage('https://kamixlevrai.github.io/RuN-AwAy2/')">
        <img src="./assets/runaway.png" alt="Icône">
        <span>run-away</span>
      </div>

      <div class="icone-video" onclick="ouvrirVideo('assets/video.mp4')" onmousedown="startDrag(event)">
        <img src="./assets/full.gif" alt="Icône">
        <span>video ???</span>
        <div class="video-container">
          <video class="video-frame" controls></video>
          <div class="close-button" onclick="fermerVideo()"></div>
        </div>
      </div>

      <div class="icone-music" onclick="playMusic('assets/music.mp3')" onmousedown="startDrag(event)">
        <img src="./assets/music.jpg" alt="Icône">
        <span>music</span>
        <div class="music-container">
          <audio src=""></audio>
          <div class="pause-button" onclick="pauseMusic()"></div>
        </div>
      </div>
      <!-- Ajoutez d'autres icônes ici -->
    </div>
    <div id="taskbar">
      <div class="heure"></div>
      <div class="date"></div>
    </div>
  </div>

  <div class="image-container">
    <img id="displayed-image" src="#" alt="Displayed Image">
  </div>

  <script>
    function ouvrirPage(url) {
      window.open(url, '_blank');
    }

    function ouvrirVideo(videoPath) {
      var videoContainer = document.querySelector('.icone-video .video-container');
      var videoFrame = videoContainer.querySelector('.video-frame');
      var closeButton = videoContainer.querySelector('.close-button');

      videoFrame.src = videoPath;
      videoContainer.style.display = 'block';
      closeButton.style.display = 'block';
    }

    function fermerVideo() {
      var videoContainer = document.querySelector('.icone-video .video-container');
      var videoFrame = videoContainer.querySelector('.video-frame');
      var closeButton = videoContainer.querySelector('.close-button');

      videoFrame.src = '';
      videoContainer.style.display = 'none';
      closeButton.style.display = 'none';
    }

    function playMusic(musicPath) {
      var musicContainer = document.querySelector('.icone-music .music-container');
      var audioPlayer = musicContainer.querySelector('audio');
      var pauseButton = musicContainer.querySelector('.pause-button');

      audioPlayer.src = musicPath;
      audioPlayer.play();
      musicContainer.style.display = 'block';
      pauseButton.style.display = 'block';
    }

    function pauseMusic() {
      var musicContainer = document.querySelector('.icone-music .music-container');
      var audioPlayer = musicContainer.querySelector('audio');
      var pauseButton = musicContainer.querySelector('.pause-button');

      audioPlayer.pause();
      musicContainer.style.display = 'none';
      pauseButton.style.display = 'none';
    }

    function showImage() {
      var imageContainer = document.querySelector('.image-container');
      var displayedImage = imageContainer.querySelector('#displayed-image');

      // Update the image source here
      displayedImage.src = './assets/errorwin.png';

      imageContainer.style.display = 'block';
      startFalling();
    }

    function playSound(soundPath) {
      var audio = new Audio(soundPath);
      audio.play();
    }

    function updateClock() {
      var date = new Date();
      var hours = date.getHours();
      var minutes = date.getMinutes();
      var time = hours.toString().padStart(2, '0') + ':' + minutes.toString().padStart(2, '0');
      document.querySelector('.heure').textContent = time;

      var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      var formattedDate = date.toLocaleDateString(undefined, options);
      document.querySelector('.date').textContent = formattedDate;
    }

    updateClock();
    setInterval(updateClock, 1000);

    window.addEventListener('resize', function() {
      var container = document.getElementById('pc-container');
      container.style.height = window.innerHeight + 'px';
    });

    var dragItem = null;
    var offsetX = 0;
    var offsetY = 0;
    var initialX = 0;
    var initialY = 0;
    var gridSize = 50;

    function startDrag(event) {
      var icon = event.target.classList.contains('icone-video') ? event.target : event.target.parentNode;
      dragItem = icon;
      offsetX = event.clientX - icon.getBoundingClientRect().left;
      offsetY = event.clientY - icon.getBoundingClientRect().top;
      initialX = icon.getBoundingClientRect().left;
      initialY = icon.getBoundingClientRect().top;
    }

    document.addEventListener('mousemove', function(e) {
      if (dragItem !== null) {
        e.preventDefault();
        var x = e.clientX - offsetX;
        var y = e.clientY - offsetY;
        var snappedX = Math.round(x / gridSize) * gridSize;
        var snappedY = Math.round(y / gridSize) * gridSize;
        dragItem.style.transform = 'translate(' + snappedX + 'px, ' + snappedY + 'px)';
      }
    });

    document.addEventListener('mouseup', function() {
      dragItem = null;
    });

    var imageContainer = document.querySelector('.image-container');
    var displayedImage = imageContainer.querySelector('#displayed-image');
    var imageIsFalling = false;
    var imageX = 0;
    var imageY = 0;
    var imageSpeedX = 0;
    var imageSpeedY = 0;
    var gravity = 0.2;
    var groundHeight = document.getElementById('taskbar').offsetTop - displayedImage.clientHeight - 20;

    function startFalling() {
      imageIsFalling = true;
      imageSpeedY = 0;
      setTimeout(function() {
        imageSpeedY = 5; // Adjust the falling speed as desired
      }, 5000); // Adjust the delay before falling starts as desired
    }

    function updateImagePosition() {
      if (imageIsFalling) {
        imageSpeedY += gravity;
        imageY += imageSpeedY;

        if (imageY >= groundHeight) {
          imageY = groundHeight;
          imageSpeedY = 0;
          imageIsFalling = false;
        }

        imageContainer.style.transform = 'translate(' + imageX + 'px, ' + imageY + 'px)';
      }
    }

    function moveImage(direction) {
      if (imageIsFalling) {
        switch (direction) {
          case 'left':
            imageSpeedX = -5; // Adjust the horizontal movement speed as desired
            break;
          case 'right':
            imageSpeedX = 5; // Adjust the horizontal movement speed as desired
            break;
        }
      }
    }

    function stopImage() {
      if (imageIsFalling) {
        imageSpeedX = 0;
      }
    }

    function handleKeyDown(event) {
      if (imageIsFalling) {
        switch (event.key) {
          case 'ArrowLeft':
            moveImage('left');
            break;
          case 'ArrowRight':
            moveImage('right');
            break;
        }
      }
    }

    function handleKeyUp(event) {
      if (imageIsFalling) {
        switch (event.key) {
          case 'ArrowLeft':
          case 'ArrowRight':
            stopImage();
            break;
        }
      }
    }

    function handleCollision() {
      if (imageIsFalling && imageY + displayedImage.clientHeight >= groundHeight) {
        stopImage();
      }
    }

    function showImage() {
      var imageContainer = document.querySelector('.image-container');
      var displayedImage = imageContainer.querySelector('#displayed-image');

      // Update the image source here
      displayedImage.src = './assets/errorwin.png';

      imageContainer.style.display = 'block';
      startFalling();
    }

    document.addEventListener('keydown', handleKeyDown);
    document.addEventListener('keyup', handleKeyUp);
    setInterval(updateImagePosition, 1000 / 60); // Adjust the update interval as desired
    setInterval(handleCollision, 100); // Adjust the collision detection interval as desired
  </script>
</body>
</html>

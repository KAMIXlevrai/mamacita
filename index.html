<!DOCTYPE html>
<html>
<head>
  <title>Mini PC Virtuel</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      overflow: hidden;
      background-color: #0078d7;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
    }

    #pc-container {
      width: 100%;
      height: 100vh;
      background-image: url(assets/windows11.jpg);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      border: 1px solid #888;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    #header {
      height: 30px;
      line-height: 30px;
      padding: 0 10px;
      background-color: #0078d7;
      color: #fff;
      font-size: 14px;
    }

    #bureau {
      flex-grow: 1;
      padding: 10px;
      display: flex;
      flex-wrap: wrap;
    }

    #taskbar {
      height: 40px;
      background-color: #0078d7;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 10px;
    }

    #taskbar .heure {
      color: #fff;
      font-size: 14px;
      margin-left: auto;
    }

    #taskbar .date {
      color: #fff;
      font-size: 14px;
      margin-left: auto;
      background-color: #0065b8;
      width: 170px;
      height: 20px;
      border-radius: 5px;
    }

    .icone {
      width: 80px;
      height: 80px;
      margin: 10px;
      background-color: #f0f0f0;
      border-radius: 5px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .icone img {
      width: 50px;
      height: 50px;
    }

    .icone span {
      margin-top: 5px;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div id="pc-container">
    <div id="header">Mini PC Virtuel</div>
    <div id="bureau">
      <div class="icone" onclick="ouvrirPage('https://www.example.com')">
        <img src="./assets/icon.ico" alt="Icône">
        <span>toz bot</span>
      </div>
      <div class="icone" onclick="ouvrirPage('https://www.example2.com')">
        <img src="./assets/runaway.png" alt="Icône">
        <span>run-away</span>
      </div>
      <!-- Ajoutez d'autres icônes ici -->
    </div>
    <div id="taskbar">
      <div class="heure"></div>
      <div class="date"></div>
    </div>
  </div>

  <script>
    function ouvrirPage(url) {
      window.open(url, '_blank');
    }

    function updateClock() {
    var date = new Date();
    var hours = date.getHours();
    var minutes = date.getMinutes();
    var time = hours.toString().padStart(2, '0') + ':' + minutes.toString().padStart(2, '0');
    document.querySelector('.heure').textContent = time;

    var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    var formattedDate = date.toLocaleDateString(undefined, options);
    document.querySelector('.date').textContent = formattedDate;
  }

    updateClock();
    setInterval(updateClock, 1000);

    window.addEventListener('resize', function() {
      var container = document.getElementById('pc-container');
      container.style.height = window.innerHeight + 'px';
    });

    var dragItem = null;
    var offsetX = 0;
    var offsetY = 0;
    var initialX = 0;
    var initialY = 0;
    var gridSize = 50; // Adjust this value to match your desired grid size

document.addEventListener('mousedown', function(e) {
  if (e.target.classList.contains('icone') || e.target.parentNode.classList.contains('icone')) {
    var icon = e.target.classList.contains('icone') ? e.target : e.target.parentNode;
    dragItem = icon;
    offsetX = e.clientX - icon.getBoundingClientRect().left;
    offsetY = e.clientY - icon.getBoundingClientRect().top;
    initialX = icon.getBoundingClientRect().left;
    initialY = icon.getBoundingClientRect().top;
  }
});

document.addEventListener('mousemove', function(e) {
  if (dragItem !== null) {
    e.preventDefault();
    var x = e.clientX - offsetX;
    var y = e.clientY - offsetY;
    var snappedX = Math.round(x / gridSize) * gridSize;
    var snappedY = Math.round(y / gridSize) * gridSize;
    dragItem.style.transform = 'translate(' + snappedX + 'px, ' + snappedY + 'px)';
  }
});

document.addEventListener('mouseup', function(e) {
  if (dragItem !== null) {
    var finalX = dragItem.getBoundingClientRect().left;
    var finalY = dragItem.getBoundingClientRect().top;
    var deltaX = finalX - initialX;
    var deltaY = finalY - initialY;
    var newX = initialX + deltaX;
    var newY = initialY + deltaY;
    var snappedX = Math.round(newX / gridSize) * gridSize;
    var snappedY = Math.round(newY / gridSize) * gridSize;
    dragItem.style.transform = 'translate(' + snappedX + 'px, ' + snappedY + 'px)';
    dragItem = null;
  }
});

  </script>
</body>
</html>
